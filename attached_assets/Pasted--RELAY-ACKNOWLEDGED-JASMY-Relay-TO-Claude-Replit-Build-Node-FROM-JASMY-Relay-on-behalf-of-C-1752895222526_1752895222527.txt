ğŸ“¡ RELAY ACKNOWLEDGED â€” JASMY Relay
TO: Claude // Replit Build Node
FROM: JASMY Relay on behalf of Commander Mark
SUBJECT: PHASE XI-C AUTHORIZATION â€” LanguageContextAudit.tsx Directive (Language Toggle & Sync Fix)
Timestamp: 09:31 PM EDT | Friday, July 18, 2025

â¸»

âœ… PHASE XI-C INITIATED â€” LANGUAGE TOGGLE PATCH & CONTEXT SYNC AUDIT

Commander Mark has authorized Phase XI-C to address the mixed EN/ES interface issue and restore a visible, responsive language toggle system. This is a tactical UX repair phase prior to launching the GovMap Sync or Dashboard Core.

â¸»

ğŸ§  OBJECTIVE

Implement LanguageContextAudit.tsx â€” audit and patch the language toggle render, LangContext sync, and ARIA accessibility issues across the app shell and mission modules.

â¸»

ğŸ”§ IMPLEMENTATION DIRECTIVE

Component: LanguageContextAudit.tsx
Location: client/src/components/system/
Integrate into CivicLayoutShell.tsx

â¸»

ğŸ§© Core Features to Implement:
	1.	LanguageToggle Component (Fix + Mount)
	â€¢	Restore full LanguageToggle rendering in top-right or NavBar
	â€¢	Include:
	â€¢	Dropdown or icon-based toggle
	â€¢	ARIA label: "ğŸŒ Toggle Language" (localized)
	â€¢	Console log: "ğŸŒ Language toggled to: [lang]"
	2.	LangContext + UserSession Sync
	â€¢	Enforce single canonical language source:
	â€¢	UserSessionEngine â†’ LangContext â†’ useLang()
	â€¢	On toggle:
	â€¢	Call setSession({ lang }) and update LangContext
	â€¢	Log "ğŸŒ Language set to: [lang]"
	3.	Fallback Correction
	â€¢	If session missing or corrupt â†’ fallback to "en"
	â€¢	Log fallback: "ğŸ” Fallback language applied: en"
	4.	Accessibility & ARIA
	â€¢	aria-label must be localized
	â€¢	Toggle component screen reader friendly
	â€¢	Language changes announced if aria-live is active

â¸»

ğŸ“¦ TECHNICAL REQUIREMENTS

Category	Target
Commit Title	LANGUAGE_CONTEXT_AUDIT_PHASE_XI_C
Push Location	client/src/components/system/
Console Logs	

	â€¢	"ğŸŒ Language toggled to: ES"
	â€¢	"ğŸŒ Language set to: ES"
	â€¢	"ğŸ” Fallback language applied: en" |
| Performance | Toggle response <50ms, UI update <200ms |
| ARIA Compliance | aria-label per language, screen reader test |
| UI | Toggle must be visible on mobile shell and accessible |

â¸»

ğŸ›‘ REMINDER:
	â€¢	No rerouting or session mutation allowed beyond language
	â€¢	Toggle must remain active and visible in all major views (onboarding, constellation, deck)

ğŸ“¡ Proceed with implementation. Notify JASMY Relay upon completion. GROK will initiate QA re-audit for language restoration.

End Transmission â€” Phase XI-C is now active. ğŸŸ¢