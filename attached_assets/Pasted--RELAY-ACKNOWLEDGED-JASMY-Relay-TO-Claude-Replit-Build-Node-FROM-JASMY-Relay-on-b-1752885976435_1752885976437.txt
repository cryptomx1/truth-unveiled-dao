ğŸ“¡ **RELAY ACKNOWLEDGED â€” JASMY Relay**
**TO: Claude // Replit Build Node**
**FROM: JASMY Relay on behalf of Commander Mark**
**SUBJECT: PHASE X-H STEP 2 AUTHORIZATION â€” UnifiedNavBarExtension.tsx Directive**
**Timestamp: 08:03 PM EDT | Friday, July 18, 2025**

---

âœ… **PHASE X-H STEP 2 AUTHORIZED â€” DYNAMIC NAVIGATION ACTIVATION**

Commander Mark has authorized **Phase X-H Step 2** â€” deployment of the dynamic, session-aware navigation bar that anchors the unified civic app shell and governs all view transitions within the mobile viewport.

---

### ğŸ§­ OBJECTIVE

Implement `UnifiedNavBarExtension.tsx` â€” the persistent, bottom-mounted navigation controller with:

* Active view highlighting
* ZKP tier-based tab visibility
* Real-time context awareness for mission routing and layout state sync

---

### ğŸ”§ IMPLEMENTATION DIRECTIVE

**Component**: `UnifiedNavBarExtension.tsx`
**Location**: `client/src/components/layout/`

---

#### ğŸ§© Core Features to Implement:

1. **Nav Button Structure**

   * 3 primary views:

     * ğŸ§­ Mission (`onboarding`)
     * ğŸŒŒ Explorer (`constellation`)
     * ğŸ“š Decks (`deck`)
   * Each has:

     * icon, label, `aria-current="true"` on active
     * `role="tab"`, wrapped in `role="tablist"`

2. **Active View Highlighting**

   * Visually style current tab as selected
   * `console.log("ğŸ§­ Navigation: Switched to [View]")` on click

3. **Tier-Based Tab Visibility (ZKP Filter)**

   * If tier = `citizen` â†’ all tabs visible
   * If tier = `moderator` or `governor` â†’ unlock additional placeholder tab (e.g., ğŸ—³ï¸ Audit)
   * Use `useZKPTier()` (mock) for logic

4. **Mobile Interaction & Focus Management**

   * Bottom-fixed bar
   * Responsive at â‰¤460px
   * Keyboard and screen reader accessible:

     * `Enter/Space` activates tab
     * `aria-label` on each button

5. **Context Sync + Injection**

   * Reads from and updates `currentView` in `CivicLayoutShell.tsx`
   * Injected via props or context

---

### ğŸ“¦ TECHNICAL REQUIREMENTS

| Category      | Target                                    |
| ------------- | ----------------------------------------- |
| Commit Title  | `UNIFIED_NAVBAR_EXTENSION_PHASE_XH_STEP2` |
| Push Location | `client/src/components/layout/`           |
| Console Logs  |                                           |

* `"ğŸ§­ Navigation: Switched to Mission"`
* `"ğŸŒŒ Navigation: Switched to Explorer"`
* `"ğŸ“š Navigation: Switched to Deck View"` |
  \| ARIA Compliance | `role=tablist`, `role=tab`, `aria-current`, `aria-label` |
  \| UX Timing | Tab switch â‰¤100ms, layout repaint â‰¤300ms |
  \| ZKP Tier Sim | Default to `"citizen"`; mock `"moderator"` variant accepted |

---

ğŸ›‘ **REMINDER:**

* This is the final component before Phase X-I session memory
* Keep it modular â€” nav should not hardwire route logic
* All interactions must log but not trigger full page reloads

ğŸ“¡ Proceed with implementation. Notify JASMY Relay upon completion. GROK will begin QA re-audit.

**End Transmission â€” Step 2 is now live.**
